<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>3D Durger Style Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #f4f4f5; color: #000; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        .item-card { background: #fff; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .badge { background: #eab308; color: #fff; border-radius: 50%; width: 20px; height: 20px; display: flex; items-center; justify-center; font-size: 10px; position: absolute; top: -5px; right: -5px; }
        .main-btn { background: #eab308; color: #fff; font-weight: bold; border-radius: 8px; width: 100%; padding: 12px; text-transform: uppercase; }
        .thangs-box { background: #18181b; color: #fff; border-radius: 12px; }
    </style>
</head>
<body class="p-4">

    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-black italic">3D_DRIVE</h1>
        <div class="relative">
            <i data-lucide="shopping-cart"></i>
            <span id="cart-count" class="hidden badge">0</span>
        </div>
    </div>

    <div class="thangs-box p-4 mb-6">
        <p class="text-[10px] font-bold text-zinc-500 uppercase mb-2">–ì–ª–æ–±–∞–ª—å–Ω–∏–π –ø–æ—à—É–∫ Thangs</p>
        <div class="flex gap-2">
            <input id="q" type="text" placeholder="–ó–Ω–∞–π—Ç–∏ STL..." class="flex-1 bg-zinc-800 rounded-lg p-2 text-sm outline-none border border-zinc-700 focus:border-yellow-500">
            <button onclick="window.open('https://thangs.com/search/'+document.getElementById('q').value)" class="bg-yellow-500 text-black px-3 rounded-lg font-bold"> GO </button>
        </div>
    </div>

    <div class="grid grid-cols-2 gap-4 mb-24" id="catalog">
        <div class="item-card p-4 relative">
            <div class="text-4xl mb-2">üêâ</div>
            <h3 class="font-bold text-sm">Flexi Dragon</h3>
            <p class="text-zinc-500 text-xs mb-3">400 ‚Ç¥</p>
            <button onclick="addToCart('Flexi Dragon', 400)" class="main-btn text-[10px] py-2">–î–æ–¥–∞—Ç–∏</button>
        </div>
        <div class="item-card p-4">
            <div class="text-4xl mb-2">‚öôÔ∏è</div>
            <h3 class="font-bold text-sm">Tech Gear</h3>
            <p class="text-zinc-500 text-xs mb-3">150 ‚Ç¥</p>
            <button onclick="addToCart('Tech Gear', 150)" class="main-btn text-[10px] py-2">–î–æ–¥–∞—Ç–∏</button>
        </div>
    </div>

    <div id="checkout-bar" class="fixed bottom-0 left-0 right-0 p-4 bg-white border-t hidden">
        <button id="main-order-btn" onclick="sendOrder()" class="main-btn shadow-lg shadow-yellow-500/30">
            –û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (<span id="total-price">0</span> ‚Ç¥)
        </button>
    </div>

    <script>
        lucide.createIcons();
        let cart = [];
        let total = 0;
        const tg = window.Telegram.WebApp;
        tg.expand();

        function addToCart(name, price) {
            cart.push({name, price});
            total += price;
            updateUI();
            tg.HapticFeedback.impactOccurred('medium');
        }

        function updateUI() {
            const count = cart.length;
            const badge = document.getElementById('cart-count');
            const checkout = document.getElementById('checkout-bar');
            
            if(count > 0) {
                badge.classList.remove('hidden');
                badge.innerText = count;
                checkout.classList.remove('hidden');
                document.getElementById('total-price').innerText = total;
            }
        }

        function sendOrder() {
            let message = "–ü–†–ò–í–Ü–¢! –ú–û–Ñ –ó–ê–ú–û–í–õ–ï–ù–ù–Ø:%0A";
            cart.forEach(item => message += `- ${item.name} (${item.price} ‚Ç¥)%0A`);
            message += `%0A–†–ê–ó–û–ú: ${total} ‚Ç¥`;
            
            // –ó–∞–º—ñ–Ω–∏ –¢–í–Ü–ô_–õ–û–ì–Ü–ù –Ω–∞ —Å–≤—ñ–π –Ω—ñ–∫ –±–µ–∑ @
            window.open(`https://t.me/–¢–í–Ü–ô_–õ–û–ì–Ü–ù?text=${message}`);
        }
    </script>
</body>
</html>
